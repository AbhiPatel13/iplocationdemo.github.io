<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css" rel="stylesheet"></link>

    <style>
        .css-input {
            
     padding: 9px;
     font-size: 23px;
     border-width: 1px;
     border-color: #d0d0d0;
     background-color: #ffffff;
     color: #000000;
     border-style: solid;
     border-radius: 0px;
     width:94%;;
     height:20px;
     
     
     box-shadow: 0px 0px 5px rgba(66,66,66,.75);
     /* text-shadow: 0px 0px 5px rgba(66,66,66,.75); */
     margin:auto;
     


}

	#map { position: relative;  width: 100%; height:200px;}
 .css-input:focus {
     outline:none;
}
input{
    margin:auto;
}
.demo {
		border:1px solid #C0C0C0;
		border-collapse:collapse;
        padding:5px;
        margin:auto;
	}
	.demo th {
		border:1px solid #C0C0C0;
		padding: 5px 15px ;
		background:#F0F0F0;
	}
	.demo td {
		border:1px solid #C0C0C0;
        padding: 5px 15px ;
    }
    #display{
        display: none;
    }
    .button{
        width:100%;
        border-radius: none;
        height:20px;
    }
    
    
    </style>
</head>
<body>
    <div class="container">
        <input type="text" class="css-input" placeholder="Enter Public  IP Address Here" id="ipaddress"><br><br>
       
        
    </div>
    <button onclick="getip()" class="button">SUBMIT</button><br><br>
    
   
   
    <br><br>

    <div id="display">
        <table class="demo">
        
            <thead>
            <tr>
                <th>Country</th>
                <td id="country"></td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>Country Code</th>
                <td id="countrycode"></td>
            </tr>
            <tr>
               
                <th>Region</th>
                <td id="region">&nbsp;</td>
            </tr>
            <tr>
                <th>RegionName</th>
                <td id="regionname"></td>
            </tr>
            <tr>
                <th>City</th>
                <td id="city"></td>
            </tr>
            <tr>
                <th>ZIP</th>
                <td id="zip"></td>
            </tr>
            <tr>
                <th>latitide</th>
                <td id="latitude"></td>
            </tr>
            <tr>
                <th>Longitude</th>
                <td id="lon"></td>
            </tr>
            <tr>
                <th>timezone</th>
                <td id="timezonedata"></td>
            </tr>
            <tr>
                <th>ORG</th>
                <td id="org"></td>
            </tr>
            <tr>
                <th>Internet service provider</th>
                <td id="isp"></td>
            </tr>
            <tr>
                <th>AS</th>
                <td id="as"></td>
            </tr>
            <tr>
                <th>IP ADDRESS</th>
                <td id="query"></td>
            </tr>
            <!-- <tr>
                <th>Header 1</th>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <th>Header 1</th>
                <td>&nbsp;</td>
            </tr> -->
          
            <tbody>
              
        </table><br><br>
        <div id="map"></div>
    </div>
    
    
 <script>
 
 

 async function getip(){

 
    
   
    
  
  
    
   
    

        try{
		   
 var  ipaddress = document.getElementById("ipaddress");
    var mainvalue = ipaddress.value;
		
            var display = document.getElementById("display");
            display.style.display="block";
            var county = document.getElementById("country");
    var countycode = document.getElementById("countrycode");
    var region = document.getElementById("region");
    var regionName = document.getElementById("regionname");
    var city = document.getElementById("city");
    var zip = document.getElementById("zip");
    var latitude = document.getElementById("latitude");
    var lon = document.getElementById("lon");
    var timezonedata = document.getElementById("timezonedata");
    var isp = document.getElementById("isp");
    var orgdata = document.getElementById("org");
    var as = document.getElementById("as");
    var query = document.getElementById("query");
            // url = `http://ip-api.com/json/${mainvalue}`;
         
         
           
            if(document.getElementById("ipaddress").value==" ")
           {
        
            ipaddress.innerHTML=" ";
    county.innerHTML = " ";
            countycode.innerHTML = " ";
            region.innerHTML = " ";
            city.innerHTML = " ";
            regionName.innerHTML =" " ;
            city.innerHTML = " ";
            zip.innerHTML = " ";
            latitude.innerHTML = " ";
            lon.innerHTML = " ";
            timezonedata.innerHTML = " ";
            isp.innerHTML =" ";
            orgdata.innerHTML = " ";
            as.innerHTML = " ";
            query.innerHTML = " ";
        
            }
           
            // else if(data.status=="fail")
            // {
            //     display.style.display="none";
            //     alert("Please Enter Valid IP Value");
                
            //     return;
            // }
            else{
                const mydata =await fetch(`http://ip-api.com/json/${mainvalue}`);
            
            const data  = await mydata.json();
                county.innerHTML = data.country;
            
            countycode.innerHTML = data.countryCode;
            region.innerHTML = data.region;
            city.innerHTML = data.city;
            regionName.innerHTML = data.regionName;
            city.innerHTML = data.city;
            zip.innerHTML = data.zip;
            latitude.innerHTML = data.lat;
            lon.innerHTML = data.lon;
            timezonedata.innerHTML = data.timezone;
            isp.innerHTML = data.isp;
            orgdata.innerHTML = data.org;
            as.innerHTML = data.as;
            query.innerHTML = data.query;
            mapboxgl.accessToken = 'pk.eyJ1IjoiYWJoaXBhdGVsMTIzIiwiYSI6ImNramdxZ3k4MjN5Y3cyem5xYmx5bmVxaDAifQ.k1FIuoZysZREVyqzKV3aDQ';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
center: [ data.lon, data.lat],
zoom: 8
});
 
var marker = new mapboxgl.Marker()
.setLngLat([data.lon, data.lat])
.addTo(map);
            
            }
            
           
 

  
                                      
        

  
  
  
  

           

        }
        catch{
            alert("Please Enter Valid IP Value");
            display.style.display="none";
        }
    }

 
    
function clearall(){

    var  ipaddress = document.getElementById("ipaddress");
    var mainvalue = ipaddress.value;
    var county = document.getElementById("country");
    var countycode = document.getElementById("countrycode");
    var region = document.getElementById("region");
    var regionName = document.getElementById("regionname");
    var city = document.getElementById("city");
    var zip = document.getElementById("zip");
    var latitide = document.getElementById("latitude");
    var lon = document.getElementById("lon");
    var timezonedata = document.getElementById("timezonedata");
    var isp = document.getElementById("isp");
    var orgdata = document.getElementById("org");
    var as = document.getElementById("as");
    var query = document.getElementById("query");
    ipaddress.innerHTML=" ";
    county.innerHTML = " ";
    ipaddress .innerHTML=" ";
            countycode.innerHTML = " ";
            region.innerHTML = " ";
            city.innerHTML = " ";
            regionName.innerHTML =" " ;
            city.innerHTML = " ";
            zip.innerHTML = " ";
            latitude.innerHTML = " ";
            lon.innerHTML = " ";
            timezonedata.innerHTML = " ";
            isp.innerHTML =" ";
            orgdata.innerHTML = " ";
            as.innerHTML = " ";
            query.innerHTML = " ";

}

 </script>
   
  
</body>
</html>

